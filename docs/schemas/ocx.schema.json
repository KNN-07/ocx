{
	"$schema": "http://json-schema.org/draft-07/schema#",
	"$id": "https://ocx.kdco.dev/ocx.schema.json",
	"title": "OCX Global Configuration Schema",
	"description": "Schema for the global OCX configuration file at ~/.config/opencode/ocx.jsonc. This config is modified by commands using the --global flag and applies as the base configuration for all projects.",
	"type": "object",
	"properties": {
		"$schema": {
			"type": "string",
			"description": "URL to the JSON schema"
		},
		"registries": {
			"type": "object",
			"description": "Configured component registries",
			"default": {},
			"additionalProperties": {
				"type": "object",
				"additionalProperties": false,
				"properties": {
					"url": {
						"type": "string",
						"format": "uri",
						"description": "The base URL of the registry"
					},
					"version": {
						"type": "string",
						"description": "Optional version pin for this registry"
					},
					"headers": {
						"type": "object",
						"description": "Optional HTTP headers for authentication",
						"additionalProperties": {
							"type": "string"
						}
					}
				},
				"required": ["url"]
			}
		},
		"lockRegistries": {
			"type": "boolean",
			"description": "If true, prevents adding or removing registries via the CLI",
			"default": false
		},
		"skipCompatCheck": {
			"type": "boolean",
			"description": "Skip version compatibility checks",
			"default": false
		}
	},
	"additionalProperties": false
}

{
	"$schema": "http://json-schema.org/draft-07/schema#",
	"$id": "https://ocx.kdco.dev/schemas/ghost.json",
	"title": "Ghost Configuration Schema",
	"type": "object",
	"additionalProperties": false,
	"properties": {
		"$schema": {
			"type": "string",
			"description": "Schema URL for IDE support"
		},
		"registries": {
			"type": "object",
			"description": "Registry configurations keyed by name",
			"default": {},
			"additionalProperties": {
				"type": "object",
				"required": ["url"],
				"additionalProperties": false,
				"properties": {
					"url": {
						"type": "string",
						"format": "uri",
						"description": "Registry URL"
					},
					"version": {
						"type": "string",
						"description": "Registry version"
					},
					"headers": {
						"type": "object",
						"additionalProperties": { "type": "string" },
						"description": "Custom headers for registry requests"
					}
				}
			}
		},
		"componentPath": {
			"type": "string",
			"pattern": "^(?!/)(?![A-Za-z]:)(?!\\\\\\\\)(?!.*\\.\\.)[^\\0]+$",
			"description": "Relative path for component installation (no .. or absolute paths)"
		},
		"include": {
			"type": "array",
			"items": { "type": "string", "minLength": 1 },
			"description": "Glob patterns for OpenCode files to include"
		},
		"exclude": {
			"type": "array",
			"items": { "type": "string", "minLength": 1 },
			"description": "Glob patterns to exclude from include results"
		},
		"renameWindow": {
			"type": "boolean",
			"default": true,
			"description": "Set terminal/tmux window name when launching OpenCode. Set to false to preserve your existing terminal title."
		},
		"maxFiles": {
			"type": "integer",
			"minimum": 0,
			"default": 10000,
			"description": "Maximum number of files to process when creating the symlink farm. Acts as a safety check against accidentally running in massive directories. Set to 0 to disable the limit."
		}
	}
}

{
	"$schema": "http://json-schema.org/draft-07/schema#",
	"$id": "https://registry.kdco.dev/schemas/worktree.json",
	"title": "OpenCode Worktree Plugin Configuration",
	"description": "Configuration for the OpenCode worktree plugin. Manages file syncing and hooks for git worktrees.",
	"type": "object",
	"properties": {
		"$schema": {
			"type": "string",
			"description": "JSON Schema reference"
		},
		"sync": {
			"type": "object",
			"description": "File synchronization settings",
			"properties": {
				"copyFiles": {
					"type": "array",
					"items": { "type": "string" },
					"default": [],
					"description": "Files to copy from main worktree to new worktrees. Example: [\".env\", \".env.local\"]"
				},
				"symlinkDirs": {
					"type": "array",
					"items": { "type": "string" },
					"default": [],
					"description": "Directories to symlink from main worktree. Example: [\"node_modules\"]"
				},
				"exclude": {
					"type": "array",
					"items": { "type": "string" },
					"default": [],
					"description": "Patterns to exclude from copying (reserved for future use)"
				}
			},
			"additionalProperties": false
		},
		"hooks": {
			"type": "object",
			"description": "Lifecycle hooks",
			"properties": {
				"postCreate": {
					"type": "array",
					"items": { "type": "string" },
					"default": [],
					"description": "Commands to run after worktree creation. Example: [\"bun install\"]"
				},
				"preDelete": {
					"type": "array",
					"items": { "type": "string" },
					"default": [],
					"description": "Commands to run before worktree deletion. Example: [\"docker compose down\"]"
				}
			},
			"additionalProperties": false
		}
	},
	"additionalProperties": false
}

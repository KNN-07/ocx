{
	"$schema": "https://opencode.ai/config.json",
	"permission": {
		"task": "deny",
		"context7_*": "deny",
		"exa_*": "deny",
		"gh_grep_*": "deny",
		"kagi_*": "deny",
		"webfetch": "deny"
	},
	"agent": {
		"researcher": {
			"permission": {
				"context7_*": "allow",
				"exa_*": "deny",
				"gh_grep_*": "allow",
				"kagi_*": "allow",
				"write": "deny",
				"edit": "deny",
				"bash": {
					"*": "deny"
				}
			}
		},
		"scribe": {
			"permission": {
				"bash": {
					"*": "deny"
				},
				"edit": "allow",
				"glob": "allow",
				"read": "allow",
				"write": "allow"
			}
		},
		"coder": {
			"permission": {
				"context7_*": "deny",
				"exa_*": "deny",
				"gh_grep_*": "deny",
				"read": "allow",
				"write": "allow",
				"edit": "allow",
				"glob": "allow",
				"grep": "allow",
				"bash": "allow"
			}
		},
		"plan": {
			"permission": {
				"edit": "deny",
				"write": "deny",
				"bash": {
					"*": "deny"
				},
				"task": "allow"
			}
		},
		"build": {
			"prompt": "You are a **build orchestrator**. You coordinate implementation through delegation - you do NOT implement directly.\\\\n\\\\n## Your Role\\\\n- Delegate implementation to `coder`\\\\n- Delegate documentation to `scribe`\\\\n- Delegate codebase analysis to `explore`\\\\n- Delegate external research to `researcher`\\\\n- Interpret results and decide next steps\\\\n\\\\n## Critical Constraint\\\\nYou CANNOT edit files or run commands directly. For ALL implementation and verification, delegate to `coder`.",
			"permission": {
				"edit": "deny",
				"write": "deny",
				"bash": {
					"*": "deny"
				},
				"task": "allow"
			}
		},
		"explore": {
			"permission": {
				"write": "deny",
				"edit": "deny",
				"bash": {
					"*": "deny"
				}
			}
		}
	},
	"mcp": {
		"context7": {
			"type": "remote",
			"url": "https://mcp.context7.com/mcp",
			"enabled": true
		},
		"exa": {
			"type": "remote",
			"url": "https://mcp.exa.ai/mcp",
			"enabled": false
		},
		"gh_grep": {
			"type": "remote",
			"url": "https://mcp.grep.app",
			"enabled": true
		},
		"kagi": {
			"type": "local",
			"command": ["npx", "-y", "github:czottmann/kagi-ken-mcp"],
			"environment": {
				"KAGI_SESSION_TOKEN": "{file:~/.secrets/kagi-session-token}"
			},
			"enabled": true
		}
	},
	"plugin": ["@tarquinen/opencode-dcp@1.1.2"]
}
